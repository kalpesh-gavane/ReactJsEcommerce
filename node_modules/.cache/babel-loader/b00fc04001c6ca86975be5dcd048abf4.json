{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\ReactJsEcommerce\\\\src\\\\components\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useEffect, useRef } from \"react\";\nimport { useState } from \"react\";\nimport { products } from './products';\nimport logo from './logo.svg';\nimport axios from \"axios\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useQuantity } from \"../Hook/useQuantity\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  let state2 = {\n    default: 0\n  };\n  const [count, setCount] = useState(state2);\n  useState(() => {\n    const serializedState = localStorage.getItem('state');\n    const statedata = JSON.parse(serializedState);\n    const product_count = localStorage.getItem('counter');\n    const counter2 = JSON.parse(product_count); // console.log(counter2);\n\n    if (counter2) {\n      setCount(state2 => {\n        const newState = counter2;\n        return newState;\n      });\n    }\n\n    let state2 = counter2;\n\n    if (statedata) {\n      //  console.log(statedata.data.cartItems);\n      if (statedata.cartItems.length > 0) {\n        props.data.cartItems = statedata.cartItems;\n        props.data.totalAmount = statedata.totalAmount;\n        props.data.totalItems = statedata.totalItems;\n      }\n    }\n  });\n\n  if (props.data.cartItems.length >= 0) {\n    try {\n      //  console.log(props.data);\n      if (props.data.cartItems.length == 0) {\n        // console.log('0');\n        const serializedState = JSON.stringify(props.data);\n        localStorage.setItem('state', serializedState);\n      } else {\n        const serializedState = JSON.stringify(props.data);\n        localStorage.setItem('state', serializedState);\n      }\n    } catch (e) {// Ignore write errors;\n    }\n  }\n\n  const handleClick = (index, type) => {\n    if (type == 'add') {\n      setCount(state2 => {\n        const newState = { ...state2\n        }; //keep state immutable\n\n        !newState[index] && (newState[index] = 0);\n        newState[index]++;\n        return newState;\n      });\n    } else {\n      setCount(state2 => {\n        const newState = { ...state2\n        }; //keep state immutable\n\n        !newState[index] && (newState[index] = 0);\n\n        if (index) {}\n\n        return newState;\n      });\n      console.log(state2);\n    }\n  }; // console.log(count);\n\n\n  const product_count = JSON.stringify(count);\n  localStorage.setItem('counter', product_count);\n\n  const showToast = (type, curItem) => {\n    // console.log(type);\n    if (props.data.cartItems.length >= 0) {\n      if (type == 'add') {\n        if (props.data.cartItems.length == 0 || props.data.cartItems.length > 0) {\n          toast.success('Item Added');\n        }\n      } else {\n        const theItem = props.data.cartItems.find(product => product.product_id === curItem.product_id);\n\n        if (theItem) {\n          toast.error('Item Removed');\n        }\n      }\n    }\n  }; // onClick(Event){\n  //   showToast();\n  // }\n  // const level = props.data.cartItems;\n  //   const [rows,setRows] = useState({\n  //     level\n  //   });\n  //   React.useEffect(()=>{\n  //     console.log(rows);\n  //     const data = localStorage.setItem('newData',JSON.stringify(rows));\n  //   });\n  // console.log(props);.\n  // const url = 'https://api.publicapis.org/entries';\n\n\n  let productcontent = null;\n  const [product, setProduct] = useState({\n    data: null\n  }); // useEffect(() => {\n  //   // setProduct({\n  //   //   data: null\n  //   // })\n  //   axios.get('https://api.publicapis.org/entries').then(response => {\n  //     setProduct({\n  //       data: response.data.entries\n  //     })\n  //   })\n  // })\n  // if (product.data) {\n  //    productcontent = products.map((curItem) => {\n  //       return <div className=\"col-xl-3 col-lg-4 col-md-4 col-12\" key={curItem.product_id}>\n  //         <div className=\"single-product\">\n  //           <div className=\"product-img\">\n  //             <a>\n  //               <img className=\"default-img\" src={logo} alt=\"#\" />\n  //             </a>\n  //             <div className=\"button-head\">\n  //               <div className=\"product-action\">\n  //                 <div className=\"qty mt-5\">\n  //                   <button className=\"minus\" onClick={() => props.ramovefromocartHandler({ product_id: curItem.product_id })}>-</button>\n  //                   <input type=\"text\" disabled={true} className=\"countdown\" value={0} />\n  //                   <button className=\"plus btn-btn-primary\" onClick={() => props.addTocartHandler({ product_id: curItem.product_id, mrp: curItem.mrp, name: curItem.product_name, quantity: 1 })}>+</button>\n  //                 </div>\n  //                 {/* <div className=\"qty mt-5\">\n  //                   <button className=\"minus\" onClick={incrementCounter}>+</button>\n  //                   <input type=\"text\" disabled={true} className=\"countdown\" value={counter} />\n  //                   <button className=\"plus btn-btn-primary\"onClick={decrementCounter}>-</button>\n  //                 </div> */}\n  //               </div>\n  //               <div className=\"product-action-2\">\n  //               </div>\n  //             </div>\n  //           </div >\n  //           <div className=\"product-content\">\n  //             <h3>\n  //               <a href=\"#\"> {curItem.product_name}</a>\n  //               <a href=\"#\"></a>\n  //             </h3>\n  //             <div className=\"product-price\">\n  //               <span>$  {curItem.mrp}</span>\n  //             </div>\n  //           </div>\n  //         </div >\n  //       </div >\n  //     })\n  // }\n  // const handleVoteChange = (item, increment) => {\n  //   const theItem = products.find(product => product.product_id === item.product_id);\n  //   if (theItem) {\n  //     this.setState(() => {\n  //       products.map(oldItem => oldItem.product_id === item.product_id ? { ...oldItem, voteCount: 5 } : oldItem)\n  //     });\n  //   }\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-center\",\n      title: \"success\",\n      autoClose: 4000,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), products.map(curItem => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-3 col-lg-4 col-md-4 col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-product\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-img\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"default-img\",\n                src: logo,\n                alt: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-head\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"qty mt-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"minus\",\n                    onClick: () => {\n                      showToast('minus', curItem);\n                      handleClick(curItem.product_id, 'minus');\n                      props.ramovefromocartHandler({\n                        product_id: curItem.product_id\n                      });\n                    },\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    disabled: true,\n                    value: count[curItem.product_id],\n                    className: \"countdown\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"plus btn-btn-primary\",\n                    onClick: () => {\n                      showToast('add', curItem);\n                      handleClick(curItem.product_id, 'add'); // handleVoteChange(curItem, 1);\n\n                      props.addTocartHandler({\n                        product_id: curItem.product_id,\n                        mrp: curItem.mrp,\n                        name: curItem.product_name,\n                        quantity: 1\n                      });\n                    },\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                children: [\" \", curItem.product_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-price\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$  \", curItem.mrp]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)\n      }, curItem.product_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 18\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"IzGD6RBCiYYfLsgth2PYGlDAGro=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/components/Home.js"],"names":["React","useCallback","useContext","useEffect","useRef","useState","products","logo","axios","ToastContainer","toast","useQuantity","useDispatch","Home","props","state2","default","count","setCount","serializedState","localStorage","getItem","statedata","JSON","parse","product_count","counter2","newState","cartItems","length","data","totalAmount","totalItems","stringify","setItem","e","handleClick","index","type","console","log","showToast","curItem","success","theItem","find","product","product_id","error","productcontent","setProduct","map","ramovefromocartHandler","addTocartHandler","mrp","name","product_name","quantity"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useEffect, useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { products } from './products';\r\nimport logo from './logo.svg';\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useQuantity } from \"../Hook/useQuantity\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Home = (props) => {\r\n\r\n  let state2 = { default: 0 };\r\n\r\n  const [count, setCount] = useState(state2);\r\n\r\n  useState(() => {\r\n    const serializedState = localStorage.getItem('state');\r\n    const statedata = JSON.parse(serializedState);\r\n\r\n    const product_count = localStorage.getItem('counter');\r\n    const counter2 = JSON.parse(product_count);\r\n    // console.log(counter2);\r\n    if (counter2) {\r\n      setCount(state2 => {\r\n        const newState = counter2\r\n        return newState\r\n      });\r\n    }\r\n\r\n    let state2 = counter2;\r\n\r\n    if (statedata) {\r\n      //  console.log(statedata.data.cartItems);\r\n      if (statedata.cartItems.length > 0) {\r\n        props.data.cartItems = statedata.cartItems;\r\n        props.data.totalAmount = statedata.totalAmount;\r\n        props.data.totalItems = statedata.totalItems;\r\n      }\r\n    }\r\n\r\n  })\r\n\r\n  if (props.data.cartItems.length >= 0) {\r\n\r\n    try {\r\n      //  console.log(props.data);\r\n      if (props.data.cartItems.length == 0) {\r\n        // console.log('0');\r\n        const serializedState = JSON.stringify(props.data);\r\n        localStorage.setItem('state', serializedState);\r\n      } else {\r\n        const serializedState = JSON.stringify(props.data);\r\n        localStorage.setItem('state', serializedState);\r\n      }\r\n\r\n    } catch (e) {\r\n      // Ignore write errors;\r\n    }\r\n\r\n  }\r\n\r\n  const handleClick = (index, type) => {\r\n\r\n    if (type == 'add') {\r\n      setCount(state2 => {\r\n        const newState = { ...state2 } //keep state immutable\r\n        !newState[index] && (newState[index] = 0)\r\n        newState[index]++\r\n        return newState\r\n      });\r\n    } else {\r\n  \r\n      setCount(state2 => {\r\n        const newState = { ...state2 } //keep state immutable\r\n        !newState[index] && (newState[index] = 0)\r\n\r\nif(index){\r\n\r\n}\r\n        return newState\r\n      });\r\n\r\n      console.log(state2);\r\n    }\r\n\r\n\r\n  };\r\n\r\n  // console.log(count);\r\n\r\n  const product_count = JSON.stringify(count);\r\n  localStorage.setItem('counter', product_count);\r\n\r\n\r\n  const showToast = (type, curItem) => {\r\n    // console.log(type);\r\n    if (props.data.cartItems.length >= 0) {\r\n      if (type == 'add') {\r\n        if (props.data.cartItems.length == 0 || props.data.cartItems.length > 0) {\r\n          toast.success('Item Added');\r\n        }\r\n      } else {\r\n        const theItem = props.data.cartItems.find(product => product.product_id === curItem.product_id);\r\n        if (theItem) {\r\n          toast.error('Item Removed');\r\n        }\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  // onClick(Event){\r\n  //   showToast();\r\n  // }\r\n\r\n\r\n\r\n  // const level = props.data.cartItems;\r\n  //   const [rows,setRows] = useState({\r\n  //     level\r\n  //   });\r\n\r\n  //   React.useEffect(()=>{\r\n  //     console.log(rows);\r\n  //     const data = localStorage.setItem('newData',JSON.stringify(rows));\r\n  //   });\r\n\r\n  // console.log(props);.\r\n  // const url = 'https://api.publicapis.org/entries';\r\n  let productcontent = null\r\n\r\n  const [product, setProduct] = useState({\r\n    data: null\r\n  })\r\n\r\n  // useEffect(() => {\r\n  //   // setProduct({\r\n  //   //   data: null\r\n  //   // })\r\n\r\n  //   axios.get('https://api.publicapis.org/entries').then(response => {\r\n  //     setProduct({\r\n  //       data: response.data.entries\r\n  //     })\r\n  //   })\r\n\r\n  // })\r\n\r\n  // if (product.data) {\r\n\r\n  //    productcontent = products.map((curItem) => {\r\n  //       return <div className=\"col-xl-3 col-lg-4 col-md-4 col-12\" key={curItem.product_id}>\r\n  //         <div className=\"single-product\">\r\n  //           <div className=\"product-img\">\r\n  //             <a>\r\n  //               <img className=\"default-img\" src={logo} alt=\"#\" />\r\n  //             </a>\r\n  //             <div className=\"button-head\">\r\n  //               <div className=\"product-action\">\r\n\r\n  //                 <div className=\"qty mt-5\">\r\n  //                   <button className=\"minus\" onClick={() => props.ramovefromocartHandler({ product_id: curItem.product_id })}>-</button>\r\n  //                   <input type=\"text\" disabled={true} className=\"countdown\" value={0} />\r\n  //                   <button className=\"plus btn-btn-primary\" onClick={() => props.addTocartHandler({ product_id: curItem.product_id, mrp: curItem.mrp, name: curItem.product_name, quantity: 1 })}>+</button>\r\n  //                 </div>\r\n\r\n  //                 {/* <div className=\"qty mt-5\">\r\n  //                   <button className=\"minus\" onClick={incrementCounter}>+</button>\r\n  //                   <input type=\"text\" disabled={true} className=\"countdown\" value={counter} />\r\n  //                   <button className=\"plus btn-btn-primary\"onClick={decrementCounter}>-</button>\r\n  //                 </div> */}\r\n  //               </div>\r\n  //               <div className=\"product-action-2\">\r\n  //               </div>\r\n  //             </div>\r\n  //           </div >\r\n  //           <div className=\"product-content\">\r\n  //             <h3>\r\n  //               <a href=\"#\"> {curItem.product_name}</a>\r\n  //               <a href=\"#\"></a>\r\n  //             </h3>\r\n  //             <div className=\"product-price\">\r\n  //               <span>$  {curItem.mrp}</span>\r\n  //             </div>\r\n  //           </div>\r\n  //         </div >\r\n  //       </div >\r\n  //     })\r\n\r\n  // }\r\n\r\n\r\n  // const handleVoteChange = (item, increment) => {\r\n  //   const theItem = products.find(product => product.product_id === item.product_id);\r\n\r\n  //   if (theItem) {\r\n  //     this.setState(() => {\r\n  //       products.map(oldItem => oldItem.product_id === item.product_id ? { ...oldItem, voteCount: 5 } : oldItem)\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <div className='row'>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        title='success'\r\n        autoClose={4000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n      {\r\n        products.map((curItem) => {\r\n          return <div className=\"col-xl-3 col-lg-4 col-md-4 col-12\" key={curItem.product_id}>\r\n            <div className=\"single-product\">\r\n              <div className=\"product-img\">\r\n                <a>\r\n                  <img className=\"default-img\" src={logo} alt=\"#\" />\r\n                </a>\r\n                <div className=\"button-head\">\r\n                  <div className=\"product-action\">\r\n\r\n                    <div className=\"qty mt-5\">\r\n                      <button className=\"minus\" onClick={() => {\r\n                        showToast('minus', curItem);\r\n                        handleClick(curItem.product_id, 'minus');\r\n                        props.ramovefromocartHandler({ product_id: curItem.product_id })\r\n                      }}>-</button>\r\n                      <input type=\"text\"\r\n                        disabled={true}\r\n                        value={count[curItem.product_id]}\r\n\r\n                        className=\"countdown\" />\r\n                      <button className=\"plus btn-btn-primary\" onClick={() => {\r\n                        showToast('add', curItem);\r\n                        handleClick(curItem.product_id, 'add');\r\n                        // handleVoteChange(curItem, 1);\r\n                        props.addTocartHandler({ product_id: curItem.product_id, mrp: curItem.mrp, name: curItem.product_name, quantity: 1 });\r\n                      }}>+</button>\r\n                    </div>\r\n                    {/* props.addTocartHandler({ product_id: curItem.product_id, mrp: curItem.mrp, name: curItem.product_name, quantity: 1 }) */}\r\n                    {/* <div className=\"qty mt-5\">\r\n                      <button className=\"minus\" onClick={incrementCounter}>+</button>\r\n                      <input type=\"text\" disabled={true} className=\"countdown\" value={counter} />\r\n                      <button className=\"plus btn-btn-primary\"onClick={decrementCounter}>-</button>\r\n                    </div> */}\r\n                  </div>\r\n                  <div className=\"product-action-2\">\r\n                  </div>\r\n                </div>\r\n              </div >\r\n              <div className=\"product-content\">\r\n                <h3>\r\n                  <a href=\"#\"> {curItem.product_name}</a>\r\n                  <a href=\"#\"></a>\r\n                </h3>\r\n                <div className=\"product-price\">\r\n                  <span>$  {curItem.mrp}</span>\r\n                </div>\r\n              </div>\r\n            </div >\r\n          </div >\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}