{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nfunction ShowToast(type, curItem) {\n  _s();\n\n  const serializedState = localStorage.getItem('state');\n  const statedata = JSON.parse(serializedState);\n  const [count, setCount] = useState(counterdata);\n\n  if (statedata.cartItems.length >= 0) {\n    if (type == 'add') {\n      if (props.data.cartItems.length == 0 || props.data.cartItems.length > 0) {\n        toast.success('Item Added');\n      }\n    } else if (type == 'remove') {\n      setCount(count => {\n        const newState = { ...count\n        }; //keep state immutable\n\n        !newState[curItem.product_id] && (newState[curItem.product_id] = 0);\n        newState[curItem.product_id] = 0;\n        return newState;\n      });\n      const theItem = statedata.cartItems.find(product => product.product_id === curItem.product_id);\n\n      if (theItem) {\n        toast.error('Item Removed');\n      }\n    } else {\n      const theItem = props.data.cartItems.find(product => product.product_id === curItem.product_id);\n\n      if (theItem) {\n        toast.error('Item Removed');\n      }\n    }\n  }\n\n  const product_count = JSON.stringify(count);\n  localStorage.setItem('counter', product_count);\n}\n\n_s(ShowToast, \"EUStwfBmYhyXAyC30Aa25L+13s4=\");\n\n_c = ShowToast;\nexport default ShowToast;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowToast\");","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/functions/ShowToast.js"],"names":["React","useState","ToastContainer","toast","ShowToast","type","curItem","serializedState","localStorage","getItem","statedata","JSON","parse","count","setCount","counterdata","cartItems","length","props","data","success","newState","product_id","theItem","find","product","error","product_count","stringify","setItem"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;;AAEA,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,OAAzB,EAAiC;AAAA;;AAE7B,QAAMC,eAAe,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAxB;AACA,QAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,eAAX,CAAlB;AAGA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAACc,WAAD,CAAlC;;AAEA,MAAIL,SAAS,CAACM,SAAV,CAAoBC,MAApB,IAA8B,CAAlC,EAAqC;AACjC,QAAIZ,IAAI,IAAI,KAAZ,EAAmB;AACT,UAAIa,KAAK,CAACC,IAAN,CAAWH,SAAX,CAAqBC,MAArB,IAA+B,CAA/B,IAAoCC,KAAK,CAACC,IAAN,CAAWH,SAAX,CAAqBC,MAArB,GAA8B,CAAtE,EAAyE;AACvEd,QAAAA,KAAK,CAACiB,OAAN,CAAc,YAAd;AACD;AACT,KAJF,MAIQ,IAAGf,IAAI,IAAI,QAAX,EAAqB;AACzBS,MAAAA,QAAQ,CAACD,KAAK,IAAI;AACd,cAAMQ,QAAQ,GAAG,EAAE,GAAGR;AAAL,SAAjB,CADc,CACgB;;AAC9B,SAACQ,QAAQ,CAACf,OAAO,CAACgB,UAAT,CAAT,KAAkCD,QAAQ,CAACf,OAAO,CAACgB,UAAT,CAAR,GAA+B,CAAjE;AACAD,QAAAA,QAAQ,CAACf,OAAO,CAACgB,UAAT,CAAR,GAA+B,CAA/B;AACA,eAAOD,QAAP;AACH,OALO,CAAR;AAOA,YAAME,OAAO,GAAGb,SAAS,CAACM,SAAV,CAAoBQ,IAApB,CAAyBC,OAAO,IAAIA,OAAO,CAACH,UAAR,KAAuBhB,OAAO,CAACgB,UAAnE,CAAhB;;AACA,UAAIC,OAAJ,EAAa;AACTpB,QAAAA,KAAK,CAACuB,KAAN,CAAY,cAAZ;AACH;AACJ,KAZO,MAYF;AACF,YAAMH,OAAO,GAAGL,KAAK,CAACC,IAAN,CAAWH,SAAX,CAAqBQ,IAArB,CAA0BC,OAAO,IAAIA,OAAO,CAACH,UAAR,KAAuBhB,OAAO,CAACgB,UAApE,CAAhB;;AACA,UAAIC,OAAJ,EAAa;AACXpB,QAAAA,KAAK,CAACuB,KAAN,CAAY,cAAZ;AACD;AACF;AACN;;AAED,QAAMC,aAAa,GAAGhB,IAAI,CAACiB,SAAL,CAAef,KAAf,CAAtB;AACAL,EAAAA,YAAY,CAACqB,OAAb,CAAqB,SAArB,EAAgCF,aAAhC;AACH;;GAnCQvB,S;;KAAAA,S;AAqCT,eAAeA,SAAf","sourcesContent":["import React,{useState} from \"react\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nfunction ShowToast(type, curItem){\r\n\r\n    const serializedState = localStorage.getItem('state');\r\n    const statedata = JSON.parse(serializedState);\r\n\r\n\r\n    const [count, setCount] = useState(counterdata);\r\n\r\n    if (statedata.cartItems.length >= 0) {\r\n        if (type == 'add') {\r\n                  if (props.data.cartItems.length == 0 || props.data.cartItems.length > 0) {\r\n                    toast.success('Item Added');\r\n                  }\r\n         } else if(type == 'remove') {\r\n            setCount(count => {\r\n                const newState = { ...count } //keep state immutable\r\n                !newState[curItem.product_id] && (newState[curItem.product_id] = 0)\r\n                newState[curItem.product_id] = 0\r\n                return newState\r\n            });\r\n\r\n            const theItem = statedata.cartItems.find(product => product.product_id === curItem.product_id);\r\n            if (theItem) {\r\n                toast.error('Item Removed');\r\n            }\r\n        }else {\r\n            const theItem = props.data.cartItems.find(product => product.product_id === curItem.product_id);\r\n            if (theItem) {\r\n              toast.error('Item Removed');\r\n            }\r\n          }\r\n    }\r\n    \r\n    const product_count = JSON.stringify(count);\r\n    localStorage.setItem('counter', product_count);\r\n}\r\n\r\nexport default ShowToast;"]},"metadata":{},"sourceType":"module"}