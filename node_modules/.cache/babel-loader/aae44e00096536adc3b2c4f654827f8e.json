{"ast":null,"code":"import { ADD_TO_CART } from \"../../constants\";\nconst initialState = {\n  cartItems: [],\n  totalAmount: 0,\n  totalItems: 0\n};\nexport default function cardItems() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      console.log('action');\n      console.log(state.cartItems);\n      console.log(action.product_id); // let curdata = state.cardData;\n\n      const theItem = state.cartItems.find(product => product.product_id === action.product_id);\n      console.log(theItem);\n\n      if (theItem) {\n        return { ...state,\n          cartItems: [...state.cartItems, action.data],\n          // totalPrice: state.totalPrice + action.payload.price,\n          qty: theItem.qty + 1\n        };\n      }\n\n      return { ...state,\n        cartItems: [...state.cartItems, action.data] //totalPrice: state.totalPrice + action.payload.price,\n\n      }; // console.log(action.data);\n      // console.log(state);\n      // if (state.length > 0) {\n      //   //console.log(action.data);\n      //   let curdata = state;\n      //   console.log(curdata);\n      //   // const item = state.find(() => curdata.product_id === action.product_id);\n      //   // console.log(item);\n      //   // if (item) {\n      //   //   console.log('has item');\n      //   // } else {\n      //   //   console.log('no item');\n      //   // }\n      // //   state.map((curElem) => {\n      // //   let curdata = curElem.cardData;\n      // //   let actiondata = action.data;\n      // // });\n      //   // let updatedCart = state.map((curElem) => {\n      //   //   console.log('inside state');\n      //   //   let curdata = curElem.cardData;\n      //   //   const item = state.find((curdata) => curdata.product_id === action.product_id);\n      //   //   console.log(item);\n      //   //   // if (curdata.product_id === action.data.product_id) {\n      //   //   //   console.log('matched');\n      //   //   //   return {\n      //   //   //     quantity: curdata.quantity + 1\n      //   //   //   };\n      //   //   // }\n      //   // //return curdata;\n      //   // });\n      //   // console.log(updatedCart);\n      //   // const item = state.find((curElem) => curElem.product_id === action.product_id);\n      //   // if (item) {\n      //   //   item.quantity += 1;\n      //   // } else {\n      //   //   state.push(action.data);\n      //   // }\n      //   // const basket = createSlice({\n      //   //   name: \"basket\",\n      //   //   initialState,\n      //   //   reducers: {\n      //   //     addToBasket: (state, { payload }) => {\n      //   //       const item = state.items.find((pizza) => pizza.name === payload.name);\n      //   //       if (item) {\n      //   //         item.quantity += payload.quantity;\n      //   //       } else {\n      //   //         state.items.push(payload);\n      //   //       }\n      //   //     },\n      //   //   },\n      //   // });\n      //   return [\n      //     ...state,\n      //     { cardData: action.data }\n      //   ]\n      // } else {\n      //   return [\n      //     ...state,\n      //     { cardData: action.data }\n      //   ]\n      // }\n\n      break;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/Services/Reducers/reducer.js"],"names":["ADD_TO_CART","initialState","cartItems","totalAmount","totalItems","cardItems","state","action","type","console","log","product_id","theItem","find","product","data","qty"],"mappings":"AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,SAAS,EAAE,EADQ;AAEnBC,EAAAA,WAAW,EAAE,CAFM;AAGnBC,EAAAA,UAAU,EAAE;AAHO,CAArB;AAMA,eAAe,SAASC,SAAT,GAAiD;AAAA,MAA9BC,KAA8B,uEAAtBL,YAAsB;AAAA,MAARM,MAAQ;;AAE9D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AACCS,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACED,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACJ,SAAlB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,UAAnB,EAHH,CAIC;;AAEC,YAAMC,OAAO,GAAGN,KAAK,CAACJ,SAAN,CAAgBW,IAAhB,CACdC,OAAO,IAAIA,OAAO,CAACH,UAAR,KAAuBJ,MAAM,CAACI,UAD3B,CAAhB;AAIAF,MAAAA,OAAO,CAACC,GAAR,CAAYE,OAAZ;;AAEA,UAAIA,OAAJ,EAAa;AACX,eAAO,EACL,GAAGN,KADE;AAELJ,UAAAA,SAAS,EAAE,CAAC,GAAGI,KAAK,CAACJ,SAAV,EAAqBK,MAAM,CAACQ,IAA5B,CAFN;AAGN;AACCC,UAAAA,GAAG,EAAEJ,OAAO,CAACI,GAAR,GAAc;AAJd,SAAP;AAMD;;AAED,aAAO,EACL,GAAGV,KADE;AAELJ,QAAAA,SAAS,EAAE,CAAC,GAAGI,KAAK,CAACJ,SAAV,EAAqBK,MAAM,CAACQ,IAA5B,CAFN,CAGL;;AAHK,OAAP,CArBF,CA2BE;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AAEF;AACE,aAAOT,KAAP;AAxGJ;AA0GD","sourcesContent":["import { ADD_TO_CART } from \"../../constants\"\r\nconst initialState = {\r\n  cartItems: [],\r\n  totalAmount: 0,\r\n  totalItems: 0,\r\n};\r\n\r\nexport default function cardItems(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n     console.log('action');\r\n       console.log(state.cartItems);\r\n       console.log(action.product_id);\r\n     // let curdata = state.cardData;\r\n\r\n      const theItem = state.cartItems.find(\r\n        product => product.product_id === action.product_id,\r\n      );\r\n\r\n      console.log(theItem);\r\n\r\n      if (theItem) {\r\n        return {\r\n          ...state,\r\n          cartItems: [...state.cartItems, action.data],\r\n         // totalPrice: state.totalPrice + action.payload.price,\r\n          qty: theItem.qty + 1,\r\n        };\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        cartItems: [...state.cartItems, action.data],\r\n        //totalPrice: state.totalPrice + action.payload.price,\r\n      };\r\n\r\n      // console.log(action.data);\r\n      // console.log(state);\r\n\r\n      // if (state.length > 0) {\r\n      //   //console.log(action.data);\r\n\r\n      //   let curdata = state;\r\n      //   console.log(curdata);\r\n\r\n      //   // const item = state.find(() => curdata.product_id === action.product_id);\r\n      //   // console.log(item);\r\n      //   // if (item) {\r\n      //   //   console.log('has item');\r\n      //   // } else {\r\n      //   //   console.log('no item');\r\n      //   // }\r\n\r\n      // //   state.map((curElem) => {\r\n      // //   let curdata = curElem.cardData;\r\n      // //   let actiondata = action.data;\r\n\r\n\r\n\r\n      // // });\r\n      //   // let updatedCart = state.map((curElem) => {\r\n      //   //   console.log('inside state');\r\n      //   //   let curdata = curElem.cardData;\r\n\r\n      //   //   const item = state.find((curdata) => curdata.product_id === action.product_id);\r\n      //   //   console.log(item);\r\n      //   //   // if (curdata.product_id === action.data.product_id) {\r\n      //   //   //   console.log('matched');\r\n      //   //   //   return {\r\n      //   //   //     quantity: curdata.quantity + 1\r\n      //   //   //   };\r\n      //   //   // }\r\n      //   // //return curdata;\r\n      //   // });\r\n      //   // console.log(updatedCart);\r\n      //   // const item = state.find((curElem) => curElem.product_id === action.product_id);\r\n\r\n      //   // if (item) {\r\n      //   //   item.quantity += 1;\r\n      //   // } else {\r\n      //   //   state.push(action.data);\r\n      //   // }\r\n\r\n      //   // const basket = createSlice({\r\n      //   //   name: \"basket\",\r\n      //   //   initialState,\r\n      //   //   reducers: {\r\n      //   //     addToBasket: (state, { payload }) => {\r\n      //   //       const item = state.items.find((pizza) => pizza.name === payload.name);\r\n\r\n      //   //       if (item) {\r\n      //   //         item.quantity += payload.quantity;\r\n      //   //       } else {\r\n      //   //         state.items.push(payload);\r\n      //   //       }\r\n      //   //     },\r\n      //   //   },\r\n      //   // });\r\n\r\n      //   return [\r\n      //     ...state,\r\n      //     { cardData: action.data }\r\n      //   ]\r\n      // } else {\r\n      //   return [\r\n      //     ...state,\r\n      //     { cardData: action.data }\r\n      //   ]\r\n      // }\r\n      break;\r\n\r\n    default:\r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}