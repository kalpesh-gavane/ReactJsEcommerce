{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\ReactJsEcommerce\\\\src\\\\components\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport logo from './logo.svg';\nimport { toast } from 'react-toastify';\nimport Toaster from \"./Toaster\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet render = true;\n\nconst Products = props => {\n  _s();\n\n  const [searchParams] = useSearchParams(); // console.log(searchParams.get('q'));\n\n  const url = 'https://allcitysolution.com/api/categories';\n\n  const getData = () => {\n    const counterState = localStorage.getItem('counter');\n    return JSON.parse(counterState);\n  };\n\n  const setData = data => {\n    const serializedState = JSON.stringify(data);\n    localStorage.setItem('counter', serializedState);\n  };\n\n  let [counterhome, setCount] = useState(getData());\n  let productcontent = null;\n  const [product, setProduct] = useState();\n  useState(() => {\n    const serializedState = localStorage.getItem('state');\n    const statedata = JSON.parse(serializedState);\n\n    if (statedata) {\n      //  console.log(statedata.data.cartItems);\n      if (statedata.cartItems.length > 0) {\n        props.data.cartItems = statedata.cartItems;\n        props.data.totalAmount = statedata.totalAmount;\n        props.data.totalItems = statedata.totalItems;\n      }\n    }\n  });\n  useEffect(() => {\n    axios.get(url).then(response => {\n      setProduct(response.data.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const showToast = (type, curItem) => {\n    //console.log(type);\n    if (props.data.cartItems.length >= 0) {\n      if (type === 'add') {\n        if (props.data.cartItems.length === 0 || props.data.cartItems.length > 0) {\n          toast.success('Item Added');\n        }\n      } else {\n        const theItem = props.data.cartItems.find(product => product.product_id === curItem.category_id); // console.log(curItem);\n\n        if (theItem) {\n          toast.error('Item Removed');\n        }\n      }\n    }\n  };\n\n  const handleClick = (index, type) => {\n    if (type === 'add') {\n      const counter2 = getData();\n      setCount(state2 => {\n        const newState = counter2;\n        return newState;\n      });\n      setCount(state2 => {\n        const newState = { ...state2\n        }; //keep state immutable\n\n        !newState[index] && (newState[index] = 0);\n        newState[index]++;\n        setData(newState);\n        return newState;\n      });\n    } else if (type === 'minus') {\n      const counter2 = getData();\n      setCount(state2 => {\n        const newState = counter2;\n        return newState;\n      });\n      setCount(state2 => {\n        const newState = { ...state2\n        }; //keep state immutable\n\n        !newState[index] && (newState[index] = 0);\n\n        if (newState[index] > 0) {\n          newState[index]--;\n        }\n\n        setData(newState);\n        return newState;\n      });\n    }\n  };\n\n  if (1 === 1) {\n    console.log(product);\n    const result = product.filter(item3 => {\n      return item3.category_name === searchParams.get('q');\n    }); // // console.log(result);\n\n    setProduct(result);\n  } else {\n    axios.get(url).then(response => {\n      //console.log(response.data);\n      setProduct(response.data.data);\n    }).catch(err => {// console.log(err);\n    });\n  }\n\n  if (product) {\n    // console.log(product);\n    productcontent = product.map(curItem => {\n      // console.log(curItem.userId);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xl-3 col-lg-4 col-md-4 col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"single-product\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-img\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"default-img\",\n                src: logo,\n                alt: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"button-head\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"qty mt-5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"minus\",\n                    onClick: () => {\n                      showToast('minus', curItem);\n                      handleClick(curItem.category_id, 'minus');\n                      props.ramovefromocartHandler({\n                        product_id: curItem.category_id\n                      });\n                    },\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    disabled: true,\n                    value: getData()[curItem.category_id],\n                    className: \"countdown\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"plus btn-btn-primary\",\n                    onClick: () => {\n                      showToast('add', curItem);\n                      handleClick(curItem.category_id, 'add');\n                      props.addTocartHandler({\n                        product_id: curItem.category_id,\n                        mrp: 6 + curItem.category_id,\n                        name: curItem.category_name,\n                        quantity: 1\n                      });\n                    },\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-action-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                children: [\" \", curItem.category_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-price\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$ \", curItem.category_id + 43]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this)\n      }, curItem.category_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 20\n      }, this);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), productcontent]\n  }, void 0, true);\n};\n\n_s(Products, \"5z9J/cFxtn1Ih5ZCWZLOiAguNCU=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/components/Products.js"],"names":["React","useState","useEffect","axios","logo","toast","Toaster","useSearchParams","render","Products","props","searchParams","url","getData","counterState","localStorage","getItem","JSON","parse","setData","data","serializedState","stringify","setItem","counterhome","setCount","productcontent","product","setProduct","statedata","cartItems","length","totalAmount","totalItems","get","then","response","catch","err","console","log","showToast","type","curItem","success","theItem","find","product_id","category_id","error","handleClick","index","counter2","state2","newState","result","filter","item3","category_name","map","ramovefromocartHandler","addTocartHandler","mrp","name","quantity"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport logo from './logo.svg';\r\nimport { toast } from 'react-toastify';\r\nimport Toaster from \"./Toaster\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useSearchParams } from 'react-router-dom';\r\n\r\nlet render = true;\r\n\r\nconst Products = (props) => {\r\n\r\n    const [searchParams] = useSearchParams();\r\n   // console.log(searchParams.get('q'));\r\n\r\n    const url = 'https://allcitysolution.com/api/categories';\r\n\r\n    const getData = () => {\r\n        const counterState = localStorage.getItem('counter');\r\n        return JSON.parse(counterState);\r\n    }\r\n\r\n    const setData = (data) => {\r\n        const serializedState = JSON.stringify(data);\r\n        localStorage.setItem('counter', serializedState);\r\n    }\r\n\r\n    let [counterhome, setCount] = useState(getData());\r\n    let productcontent = null;\r\n    const [product, setProduct] = useState();\r\n\r\n    useState(() => {\r\n\r\n        const serializedState = localStorage.getItem('state');\r\n        const statedata = JSON.parse(serializedState);\r\n\r\n        if (statedata) {\r\n            //  console.log(statedata.data.cartItems);\r\n            if (statedata.cartItems.length > 0) {\r\n                props.data.cartItems = statedata.cartItems;\r\n                props.data.totalAmount = statedata.totalAmount;\r\n                props.data.totalItems = statedata.totalItems;\r\n            }\r\n        }\r\n\r\n    })\r\n\r\n    useEffect(() => {\r\n        axios.get(url).then(response => {\r\n            setProduct(response.data.data);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n\r\n    }, []);\r\n\r\n    const showToast = (type, curItem) => {\r\n        //console.log(type);\r\n        if (props.data.cartItems.length >= 0) {\r\n            if (type === 'add') {\r\n                if (props.data.cartItems.length === 0 || props.data.cartItems.length > 0) {\r\n                    toast.success('Item Added');\r\n                }\r\n            } else {\r\n\r\n                const theItem = props.data.cartItems.find(product => product.product_id === curItem.category_id);\r\n\r\n                // console.log(curItem);\r\n                if (theItem) {\r\n                    toast.error('Item Removed');\r\n                }\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    const handleClick = (index, type) => {\r\n\r\n        if (type === 'add') {\r\n            const counter2 = getData();\r\n            setCount(state2 => {\r\n                const newState = counter2\r\n                return newState\r\n            });\r\n            setCount(state2 => {\r\n                const newState = { ...state2 } //keep state immutable\r\n                !newState[index] && (newState[index] = 0)\r\n                newState[index]++;\r\n                setData(newState);\r\n                return newState\r\n            });\r\n        } else if (type === 'minus') {\r\n            const counter2 = getData();\r\n            setCount(state2 => {\r\n                const newState = counter2\r\n                return newState\r\n            });\r\n\r\n            setCount(state2 => {\r\n                const newState = { ...state2 } //keep state immutable\r\n                !newState[index] && (newState[index] = 0)\r\n\r\n                if (newState[index] > 0) {\r\n                    newState[index]--\r\n                }\r\n\r\n                setData(newState);\r\n                return newState\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    if (1 === 1) {\r\n        console.log(product);\r\n        const result = product.filter((item3) => {\r\n        \r\n            return item3.category_name === searchParams.get('q');\r\n        });\r\n        // // console.log(result);\r\n        setProduct(result);\r\n    } else {\r\n        axios.get(url).then(response => {\r\n            //console.log(response.data);\r\n            setProduct(response.data.data);\r\n        }).catch((err) => {\r\n            // console.log(err);\r\n        });\r\n    }\r\n\r\n    if (product) {\r\n        // console.log(product);\r\n        productcontent = product.map((curItem) => {\r\n            // console.log(curItem.userId);\r\n            return <div className=\"col-xl-3 col-lg-4 col-md-4 col-12\" key={curItem.category_id}>\r\n                <div className=\"single-product\">\r\n                    <div className=\"product-img\">\r\n                        <a>\r\n                            <img className=\"default-img\" src={logo} alt=\"#\" />\r\n                        </a>\r\n                        <div className=\"button-head\">\r\n\r\n                            <div className=\"product-action\">\r\n\r\n                                <div className=\"qty mt-5\">\r\n                                    <button className=\"minus\" onClick={() => {\r\n                                        showToast('minus', curItem);\r\n                                        handleClick(curItem.category_id, 'minus');\r\n                                        props.ramovefromocartHandler({ product_id: curItem.category_id })\r\n                                    }}>-</button>\r\n                                    <input type=\"text\"\r\n                                        disabled={true}\r\n                                        value={getData()[curItem.category_id]}\r\n                                        className=\"countdown\" />\r\n                                    <button className=\"plus btn-btn-primary\" onClick={() => {\r\n                                        showToast('add', curItem);\r\n                                        handleClick(curItem.category_id, 'add');\r\n                                        props.addTocartHandler({ product_id: curItem.category_id, mrp: 6 + curItem.category_id, name: curItem.category_name, quantity: 1 });\r\n                                    }}>+</button>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div className=\"product-action-2\">\r\n                            </div>\r\n                        </div>\r\n                    </div >\r\n                    <div className=\"product-content\">\r\n                        <h3>\r\n                            <a href=\"#\"> {curItem.category_name}</a>\r\n                            <a href=\"#\"></a>\r\n                        </h3>\r\n                        <div className=\"product-price\">\r\n                            <span>$ {curItem.category_id + 43}</span>\r\n                        </div>\r\n                    </div>\r\n                </div >\r\n            </div >\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Toaster />\r\n            {productcontent}\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default Products;"]},"metadata":{},"sourceType":"module"}