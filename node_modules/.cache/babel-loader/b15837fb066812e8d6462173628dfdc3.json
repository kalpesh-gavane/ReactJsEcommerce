{"ast":null,"code":"export const reducer = (state, action) => {\n  if (action.type === 'remove_item') {\n    // alert('hello');\n    return { ...state,\n      products: state.products.filter(curElem => {\n        return curElem.product_id !== action.payload;\n      })\n    };\n  }\n\n  if (action.type === 'INCREMENT') {\n    alert(state.products);\n    let updatedCart = state.products.map(curElem => {\n      if (curElem.product_id === action.payload) {\n        if (curElem.quantity < curElem.max_qty) return { ...curElem,\n          quantity: curElem.quantity + 1\n        };\n      }\n\n      return curElem;\n    });\n    return { ...state,\n      products: updatedCart\n    };\n  }\n\n  if (action.type === 'DECREMENT') {\n    // alert('hello');\n    let updatedCart = state.products.map(curElem => {\n      if (curElem.product_id === action.payload) {\n        if (curElem.quantity > 1) return { ...curElem,\n          quantity: curElem.quantity - 1\n        };\n      }\n\n      return curElem;\n    }); //  console.log(updatedCart);\n\n    return { ...state,\n      products: updatedCart\n    };\n  }\n\n  if (action.type === 'Total') {\n    // alert('hello');\n    let {\n      totalItems\n    } = state.products.reduce((accum, curVal) => {\n      let {\n        quantity\n      } = curVal; // console.log(curVal.quantity);\n\n      accum.totalItems += quantity; //  console.log(accum);\n\n      return accum;\n    }, {\n      totalItems: 0\n    });\n    return { ...state,\n      totalItems: totalItems\n    }; //  console.log(totalItems);\n  }\n\n  return state;\n};","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/reducer.js"],"names":["reducer","state","action","type","products","filter","curElem","product_id","payload","alert","updatedCart","map","quantity","max_qty","totalItems","reduce","accum","curVal"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAEtC,MAAIA,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AAC/B;AACA,WAAO,EACH,GAAGF,KADA;AAEHG,MAAAA,QAAQ,EAAEH,KAAK,CAACG,QAAN,CAAeC,MAAf,CAAuBC,OAAD,IAAa;AACzC,eAAOA,OAAO,CAACC,UAAR,KAAuBL,MAAM,CAACM,OAArC;AACH,OAFS;AAFP,KAAP;AAMH;;AAED,MAAIN,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;AAC5BM,IAAAA,KAAK,CAACR,KAAK,CAACG,QAAP,CAAL;AACD,QAAIM,WAAW,GAAGT,KAAK,CAACG,QAAN,CAAeO,GAAf,CAAoBL,OAAD,IAAa;AAE9C,UAAIA,OAAO,CAACC,UAAR,KAAuBL,MAAM,CAACM,OAAlC,EAA2C;AACvC,YAAIF,OAAO,CAACM,QAAR,GAAmBN,OAAO,CAACO,OAA/B,EACI,OAAO,EACH,GAAGP,OADA;AACSM,UAAAA,QAAQ,EAAEN,OAAO,CAACM,QAAR,GAAmB;AADtC,SAAP;AAGP;;AACD,aAAON,OAAP;AACH,KATiB,CAAlB;AAUA,WAAO,EAAE,GAAGL,KAAL;AAAYG,MAAAA,QAAQ,EAAEM;AAAtB,KAAP;AACH;;AAED,MAAIR,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;AAC7B;AACA,QAAIO,WAAW,GAAGT,KAAK,CAACG,QAAN,CAAeO,GAAf,CAAoBL,OAAD,IAAa;AAC9C,UAAIA,OAAO,CAACC,UAAR,KAAuBL,MAAM,CAACM,OAAlC,EAA2C;AACvC,YAAIF,OAAO,CAACM,QAAR,GAAmB,CAAvB,EACI,OAAO,EACH,GAAGN,OADA;AACSM,UAAAA,QAAQ,EAAEN,OAAO,CAACM,QAAR,GAAmB;AADtC,SAAP;AAGP;;AACD,aAAON,OAAP;AACH,KARiB,CAAlB,CAF6B,CAW7B;;AACA,WAAO,EAAE,GAAGL,KAAL;AAAYG,MAAAA,QAAQ,EAAEM;AAAtB,KAAP;AACH;;AAED,MAAIR,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B;AACzB;AACA,QAAI;AAAEW,MAAAA;AAAF,QAAiBb,KAAK,CAACG,QAAN,CAAeW,MAAf,CAAsB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC1D,UAAI;AAAEL,QAAAA;AAAF,UAAeK,MAAnB,CAD0D,CAE1D;;AACAD,MAAAA,KAAK,CAACF,UAAN,IAAoBF,QAApB,CAH0D,CAI1D;;AACA,aAAOI,KAAP;AACH,KANoB,EAMnB;AACEF,MAAAA,UAAU,EAAC;AADb,KANmB,CAArB;AAYA,WAAO,EAAE,GAAGb,KAAL;AAAYa,MAAAA,UAAU,EAAEA;AAAxB,KAAP,CAdyB,CAe3B;AACD;;AACD,SAAOb,KAAP;AACH,CA5DM","sourcesContent":["export const reducer = (state, action) => {\r\n\r\n    if (action.type === 'remove_item') {\r\n        // alert('hello');\r\n        return {\r\n            ...state,\r\n            products: state.products.filter((curElem) => {\r\n                return curElem.product_id !== action.payload;\r\n            })\r\n        }\r\n    }\r\n\r\n    if (action.type === 'INCREMENT') {\r\n         alert(state.products);\r\n        let updatedCart = state.products.map((curElem) => {\r\n\r\n            if (curElem.product_id === action.payload) {\r\n                if (curElem.quantity < curElem.max_qty)\r\n                    return {\r\n                        ...curElem, quantity: curElem.quantity + 1\r\n                    };\r\n            }\r\n            return curElem;\r\n        });\r\n        return { ...state, products: updatedCart };\r\n    }\r\n\r\n    if (action.type === 'DECREMENT') {\r\n        // alert('hello');\r\n        let updatedCart = state.products.map((curElem) => {\r\n            if (curElem.product_id === action.payload) {\r\n                if (curElem.quantity > 1)\r\n                    return {\r\n                        ...curElem, quantity: curElem.quantity - 1\r\n                    };\r\n            }\r\n            return curElem;\r\n        });\r\n        //  console.log(updatedCart);\r\n        return { ...state, products: updatedCart };\r\n    }\r\n\r\n    if (action.type === 'Total') {\r\n        // alert('hello');\r\n        let { totalItems } = state.products.reduce((accum, curVal) => {\r\n            let { quantity } = curVal;\r\n            // console.log(curVal.quantity);\r\n            accum.totalItems += quantity;\r\n            //  console.log(accum);\r\n            return accum;\r\n        },{\r\n            totalItems:0,\r\n        }\r\n\r\n        );\r\n\r\n        return { ...state, totalItems: totalItems };\r\n      //  console.log(totalItems);\r\n    }\r\n    return state;\r\n}"]},"metadata":{},"sourceType":"module"}