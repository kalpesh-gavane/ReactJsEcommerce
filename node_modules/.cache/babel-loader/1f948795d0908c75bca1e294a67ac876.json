{"ast":null,"code":"import { ADD_TO_CART } from \"../../constants\";\nconst initialState = {\n  cardData: [],\n  totalAmount: 0,\n  totalItems: 0\n};\nexport default function cardItems() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      // console.log(state.cardData);\n      let updatedCart = state.data.map(curElem => {\n        if (curElem.product_id === action.payload) {\n          if (curElem.quantity < curElem.max_qty) return { ...curElem,\n            quantity: curElem.quantity + 1\n          };\n        }\n\n        return curElem;\n      });\n      return { ...state,\n        products: updatedCart\n      };\n      return [...state, {\n        cardData: action.data\n      }];\n      break;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/Services/Reducers/reducer.js"],"names":["ADD_TO_CART","initialState","cardData","totalAmount","totalItems","cardItems","state","action","type","updatedCart","data","map","curElem","product_id","payload","quantity","max_qty","products"],"mappings":"AAAA,SAASA,WAAT,QAA4B,iBAA5B;AACA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,EADO;AAEjBC,EAAAA,WAAW,EAAE,CAFI;AAGjBC,EAAAA,UAAU,EAAE;AAHK,CAArB;AAMA,eAAe,SAASC,SAAT,GAAmC;AAAA,MAAhBC,KAAgB,uEAAV,EAAU;AAAA,MAAPC,MAAO;;AAElD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKR,WAAL;AACE;AAEA,UAAIS,WAAW,GAAGH,KAAK,CAACI,IAAN,CAAWC,GAAX,CAAgBC,OAAD,IAAa;AAE5C,YAAIA,OAAO,CAACC,UAAR,KAAuBN,MAAM,CAACO,OAAlC,EAA2C;AACvC,cAAIF,OAAO,CAACG,QAAR,GAAmBH,OAAO,CAACI,OAA/B,EACI,OAAO,EACH,GAAGJ,OADA;AACSG,YAAAA,QAAQ,EAAEH,OAAO,CAACG,QAAR,GAAmB;AADtC,WAAP;AAGP;;AACD,eAAOH,OAAP;AACH,OATmB,CAAlB;AAUF,aAAO,EAAE,GAAGN,KAAL;AAAYW,QAAAA,QAAQ,EAAER;AAAtB,OAAP;AAEI,aAAO,CACH,GAAGH,KADA,EAEH;AAACJ,QAAAA,QAAQ,EAACK,MAAM,CAACG;AAAjB,OAFG,CAAP;AAKA;;AAEA;AACI,aAAOJ,KAAP;AAxBZ;AA0BC","sourcesContent":["import { ADD_TO_CART } from \"../../constants\"\r\nconst initialState = {\r\n    cardData: [],\r\n    totalAmount: 0,\r\n    totalItems: 0,\r\n  };\r\n  \r\nexport default function cardItems(state=[],action){\r\n\r\nswitch(action.type){\r\n    case ADD_TO_CART:\r\n      // console.log(state.cardData);\r\n\r\n      let updatedCart = state.data.map((curElem) => {\r\n\r\n        if (curElem.product_id === action.payload) {\r\n            if (curElem.quantity < curElem.max_qty)\r\n                return {\r\n                    ...curElem, quantity: curElem.quantity + 1\r\n                };\r\n        }\r\n        return curElem;\r\n    });\r\n    return { ...state, products: updatedCart };\r\n\r\n        return [\r\n            ...state,\r\n            {cardData:action.data}\r\n        ]\r\n\r\n        break;\r\n\r\n        default:\r\n            return state\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}