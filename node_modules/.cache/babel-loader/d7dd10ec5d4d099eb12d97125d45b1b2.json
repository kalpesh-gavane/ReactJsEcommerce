{"ast":null,"code":"// import { ADD_TO_CART } from \"../../constants\"\nimport React, { useEffect, useState } from \"react\";\nconst initialState = {\n  cartItems: [],\n  totalAmount: 0,\n  totalItems: 0,\n  showComponent: 'Home'\n};\nexport default function cardItems() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      console.log(action.data);\n      const theItem = state.cartItems.find(product => product.product_id === action.data.product_id);\n\n      if (theItem) {\n        return { ...state,\n          totalItems: state.totalItems + 1,\n          totalAmount: state.totalAmount + theItem.mrp,\n          cartItems: state.cartItems.map(item => item.product_id === action.data.product_id ? { ...item,\n            quantity: item.quantity + 1\n          } : item)\n        };\n      } else {\n        return { ...state,\n          cartItems: [...state.cartItems, action.data],\n          totalItems: state.totalItems + 1,\n          totalAmount: state.totalAmount + action.data.mrp\n        };\n      }\n\n      break;\n\n    case 'REMOVE_FROM_CART':\n      // console.log(state.cartItems);\n      const theItem2 = state.cartItems.find(product => product.product_id === action.data.product_id);\n\n      if (theItem2) {\n        // console.log('matched');\n        if (theItem2.quantity > 1) {\n          // console.log('> 1');\n          return { ...state,\n            totalItems: state.totalItems - 1,\n            totalAmount: state.totalAmount - theItem2.mrp,\n            cartItems: state.cartItems.map(item => item.product_id === action.data.product_id ? { ...item,\n              quantity: item.quantity - 1\n            } : item)\n          };\n        } else {\n          // console.log('< 1');\n          return { ...state,\n            cartItems: state.cartItems.filter(curElem => {\n              return curElem.product_id !== theItem2.product_id;\n            }),\n            totalItems: state.totalItems - 1,\n            totalAmount: state.totalAmount - theItem2.mrp\n          };\n        }\n      } else {\n        // console.log('not matched');\n        return { ...state,\n          cartItems: [...state.cartItems] // totalItems: state.totalItems - 1,\n\n        };\n      }\n\n      break;\n\n    case 'adddata':\n      const theItem3 = state.cartItems.find(product => product.product_id === action.data.product_id);\n\n      if (theItem2) {\n        // console.log('matched');\n        if (theItem3.quantity > 1) {\n          // console.log('> 1');\n          return { ...state,\n            totalItems: state.totalItems - 1,\n            totalAmount: state.totalAmount - theItem2.mrp,\n            cartItems: state.cartItems.map(item => item.product_id === action.data.product_id ? { ...item,\n              quantity: item.quantity - 1\n            } : item)\n          };\n        } else {\n          // console.log('< 1');\n          return { ...state,\n            cartItems: state.cartItems.filter(curElem => {\n              return curElem.product_id !== theItem2.product_id;\n            }),\n            totalItems: state.totalItems - 1,\n            totalAmount: state.totalAmount - theItem2.mrp\n          };\n        }\n      } else {\n        // console.log('not matched');\n        return { ...state,\n          cartItems: [...state.cartItems] // totalItems: state.totalItems - 1,\n\n        };\n      }\n\n      break;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/xampp/htdocs/ReactJsEcommerce/src/Services/Reducers/reducer.js"],"names":["React","useEffect","useState","initialState","cartItems","totalAmount","totalItems","showComponent","cardItems","state","action","type","console","log","data","theItem","find","product","product_id","mrp","map","item","quantity","theItem2","filter","curElem","theItem3"],"mappings":"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","sourcesContent":["// import { ADD_TO_CART } from \"../../constants\"\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst initialState = {\r\n  cartItems: [],\r\n  totalAmount: 0,\r\n  totalItems: 0,\r\n  showComponent: 'Home',\r\n};\r\n\r\nexport default function cardItems(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART':\r\n       console.log(action.data);\r\n      const theItem = state.cartItems.find(product => product.product_id === action.data.product_id);\r\n      if (theItem) {\r\n        return { ...state, totalItems: state.totalItems + 1, totalAmount: state.totalAmount + theItem.mrp, cartItems: state.cartItems.map(item => item.product_id === action.data.product_id ? { ...item, quantity: item.quantity + 1, } : item) }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          cartItems: [...state.cartItems, action.data],\r\n          totalItems: state.totalItems + 1,\r\n          totalAmount: state.totalAmount + action.data.mrp,\r\n        };\r\n\r\n      }\r\n      break;\r\n\r\n    case 'REMOVE_FROM_CART':\r\n      // console.log(state.cartItems);\r\n      const theItem2 = state.cartItems.find(product => product.product_id === action.data.product_id);\r\n      if (theItem2) {\r\n        // console.log('matched');\r\n        if (theItem2.quantity > 1) {\r\n          // console.log('> 1');\r\n          return { ...state, totalItems: state.totalItems - 1, totalAmount: state.totalAmount - theItem2.mrp, cartItems: state.cartItems.map(item => item.product_id === action.data.product_id ? { ...item, quantity: item.quantity - 1, } : item) }\r\n        } else {\r\n          // console.log('< 1');\r\n          return {\r\n            ...state,\r\n            cartItems: state.cartItems.filter((curElem) => {\r\n              return curElem.product_id !== theItem2.product_id;\r\n            }),\r\n            totalItems: state.totalItems - 1,\r\n            totalAmount: state.totalAmount - theItem2.mrp,\r\n          }\r\n        }\r\n\r\n      } else {\r\n        // console.log('not matched');\r\n        return {\r\n          ...state,\r\n          cartItems: [...state.cartItems],\r\n          // totalItems: state.totalItems - 1,\r\n        };\r\n      }\r\n      break;\r\n\r\n      case 'adddata':\r\n\r\n       \r\n        const theItem3 = state.cartItems.find(product => product.product_id === action.data.product_id);\r\n        if (theItem2) {\r\n          // console.log('matched');\r\n          if (theItem3.quantity > 1) {\r\n            // console.log('> 1');\r\n            return { ...state, totalItems: state.totalItems - 1, totalAmount: state.totalAmount - theItem2.mrp, cartItems: state.cartItems.map(item => item.product_id === action.data.product_id ? { ...item, quantity: item.quantity - 1, } : item) }\r\n          } else {\r\n            // console.log('< 1');\r\n            return {\r\n              ...state,\r\n              cartItems: state.cartItems.filter((curElem) => {\r\n                return curElem.product_id !== theItem2.product_id;\r\n              }),\r\n              totalItems: state.totalItems - 1,\r\n              totalAmount: state.totalAmount - theItem2.mrp,\r\n            }\r\n          }\r\n  \r\n        } else {\r\n          // console.log('not matched');\r\n          return {\r\n            ...state,\r\n            cartItems: [...state.cartItems],\r\n            // totalItems: state.totalItems - 1,\r\n          };\r\n        }\r\n        break;\r\n      default:\r\n\r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}